project commoncpp
	: requirements 
    <include>/usr/include/GraphicsMagick/
;

import testing ;

lib gtestlib : : <name>gtest ;
lib magick : : <name>GraphicsMagick++ ;
lib boost-fs : : <name>boost_filesystem ;
lib boost-sys : : <name>boost_system ;
lib log4cplus : : <name>log4cplus ;
lib openssl : : <name>crypto ;

alias libs : magick boost-fs boost-sys log4cplus openssl ;

source = 
[ MATCH (.*main.*) : [ glob-tree *.cpp ] ]
;

tests = 
[ MATCH (.*test.*) : [ glob-tree *.cpp ] ]
;

lib commoncpp : $(source) libs : <link>shared ;
unit-test tests : $(tests) gtestlib commoncpp libs ;

